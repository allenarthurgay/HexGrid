<html>
	<body onload="render();">
		<canvas id="canvas" width="320" height="240" style="border: 1px solid #000">
		</canvas>
        <script type="text/javascript" src="glMatrix-0.9.5.min.js"></script>

        <script id="shader-fs" type="x-shader/x-fragment">
            precision mediump float;

            void main(void) {
                gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);
            }
        </script>

        <script id="shader-vs" type="x-shader/x-vertex">
            attribute vec3 aVertexPosition;

            uniform mat4 uMVMatrix;

            void main(void) {
                gl_Position = uMVMatrix * vec4(aVertexPosition, 1.0);
            }
        </script>

        <script type="text/javascript" src="hexgrid.js"></script>
		<script type="text/javascript">
			var mapData = [
				{ x: 0, y: 0, z: 0},
				{ x: 0, y: 1, z: 0},
				{ x: 1, y: 1, z: 0},
				{ x: 1, y: 3, z: 0},
				{ x: 3, y: 4, z: 0},
				{ x: 3, y: 4, z: 0},
				{ x: 5, y: 6, z: 0}
			];
		</script>
		<script type="text/javascript">
            // thanks javascript % bug...
            // taken from: http://javascript.about.com/od/problemsolving/a/modulobug.htm
            Number.prototype.mod = function(n) {
                return ((this%n)+n)%n;
            }

			var c = document.getElementById('canvas');

            var gridWidth = 7;
            var gridHeight = 6;

            var hexGrid = new HexGrid(c);
            var hexes = 13;
            var x = 0;
            var y = 0;

            function nextX() {
                return (x+1).mod(gridWidth);
            }
            function nextY() {
                return x == 0 ? (y+1).mod(gridHeight) : y;
            }
            hexGrid.loadMap(mapData);


			function render() {
                hexGrid.renderOneFrame();
				window.setTimeout(render, 80);
			}
		</script>
	</body>
</html>

